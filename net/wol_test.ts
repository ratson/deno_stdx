import { assertEquals } from "../deps_test.ts";
import { createMagicPacket } from "./wol.ts";

Deno.test("createMagicPacket", () => {
  const mac = "D8-50-E6-3F-1A-FD";
  // deno-fmt-ignore
  const expected = new Uint8Array([
    255, 255, 255, 255, 255, 255,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
    216, 80, 230, 63, 26, 253,
  ]);
  assertEquals(createMagicPacket(mac), expected);
});
